<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Category: bolocat | Adam Ginsburg's Astro Blog]]></title>
  <link href="http://keflavich.github.com/blog/categories/bolocat/atom.xml" rel="self"/>
  <link href="http://keflavich.github.com/"/>
  <updated>2012-12-28T17:22:06-07:00</updated>
  <id>http://keflavich.github.com/</id>
  <author>
    <name><![CDATA[Adam Ginsburg]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[Bolocat v1-v2 comparison with new calibration]]></title>
    <link href="http://keflavich.github.com/blog/2011/08/29/bolocat-v1-v2-comparison-with-new/"/>
    <updated>2011-08-29T17:41:00-06:00</updated>
    <id>http://keflavich.github.com/blog/2011/08/29/bolocat-v1-v2-comparison-with-new</id>
    <content type="html"><![CDATA[<div class='post'>
<div class="separator" style="clear: both; text-align: center;"><a href="http://2.bp.blogspot.com/-c3_0Rlbv2qM/Tl1P5FhWC8I/AAAAAAAAGdc/oiFxmO7vrUU/s1600/total_v1v2_40arcsec_ratio_compare.png" imageanchor="1" style="margin-left:1em; margin-right:1em"><img border="0" height="214" width="320" src="http://2.bp.blogspot.com/-c3_0Rlbv2qM/Tl1P5FhWC8I/AAAAAAAAGdc/oiFxmO7vrUU/s320/total_v1v2_40arcsec_ratio_compare.png" /></a></div><br /><div class="separator" style="clear: both; text-align: center;"><a href="http://4.bp.blogspot.com/-Gk60vlSPkWk/Tl1P5c4THoI/AAAAAAAAGdk/E7zdIwtyD3w/s1600/total_v1v2_40arcsec_fit_compare.png" imageanchor="1" style="margin-left:1em; margin-right:1em"><img border="0" height="214" width="320" src="http://4.bp.blogspot.com/-Gk60vlSPkWk/Tl1P5c4THoI/AAAAAAAAGdk/E7zdIwtyD3w/s320/total_v1v2_40arcsec_fit_compare.png" /></a></div><br />I re-examined the Bolocat data on l351 after re-running the pipeline with the new calibration curve.  The change wasn't all that great.  See <a href="http://bolocam.blogspot.com/2011/08/bolocat-v1-v2-comparison.html"> this post </a> for a brief description of the procedure.<br /><br />In the data below, I've fit the residuals as a function of v1.0.2 flux density in an aperture (source mask) with a line.  The slope of the line should ideally be zero - that would indicate a multiplicative offset is an acceptable correction.  <br /><br />Nicely, in the 40" aperture case, I see no reason to exclude the m=0 case.  For the most reliable data - the 13pca - the slope is rather small and the "correction factor" is disturbingly close to what we recommended (1.5).  We have no right to be that lucky...<br /><br /><div class="separator" style="clear: both; text-align: center;"><a href="http://2.bp.blogspot.com/-W08ZvMS3M90/TlwhPW62NQI/AAAAAAAAGc8/8YRm6iyDPO8/s1600/l351_40arcsec_residualfit.png" imageanchor="1" style="margin-left:1em; margin-right:1em"><img border="0" height="214" width="320" src="http://2.bp.blogspot.com/-W08ZvMS3M90/TlwhPW62NQI/AAAAAAAAGc8/8YRm6iyDPO8/s320/l351_40arcsec_residualfit.png" /></a></div><br /><br />...and so perhaps wer are not.  The source mask includes more area and therefore is more sensitive to extended flux recovery.  The slopes are not consistent with 0 - just look at the data above and below 2 Jy to see that there is a difference.  The multiplicative correction of 1.5 is decent for a pretty wide range of flux densities, but is inadequate for the brightest sources.  This is somewhat interesting... it implies that the brightest sources also lie on the highest backgrounds.<br /><br /><div class="separator" style="clear: both; text-align: center;"><a href="http://3.bp.blogspot.com/-GQBE_MjAxt8/TlwhPveClUI/AAAAAAAAGdE/lohBYlJuHwM/s1600/l351_sourcemask_residualfit.png" imageanchor="1" style="margin-left:1em; margin-right:1em"><img border="0" height="214" width="320" src="http://3.bp.blogspot.com/-GQBE_MjAxt8/TlwhPveClUI/AAAAAAAAGdE/lohBYlJuHwM/s320/l351_sourcemask_residualfit.png" /></a></div><br />You might note that the brightest source has a smaller correction factor in both apertures.  It's not clear why that is the case, but I don't think it's enough to call it a trend yet - wait for the full 8000-source comparison first.<br /><br /><br />Why is there so much scatter?  Not entirely clear, but the scatter is primarily at low S/N.<div class="separator" style="clear: both; text-align: center;"><a href="http://3.bp.blogspot.com/-GPKbsfs9Y8k/Tl1OJE43J3I/AAAAAAAAGdM/pVUx9SClgtc/s1600/l351_40arcsec_fit_compare_monochrome.png" imageanchor="1" style="margin-left:1em; margin-right:1em"><img border="0" height="214" width="320" src="http://3.bp.blogspot.com/-GPKbsfs9Y8k/Tl1OJE43J3I/AAAAAAAAGdM/pVUx9SClgtc/s320/l351_40arcsec_fit_compare_monochrome.png" /></a></div><br /><div class="separator" style="clear: both; text-align: center;"><a href="http://3.bp.blogspot.com/-snhh3Bamwc4/Tl1OJXzOYNI/AAAAAAAAGdU/n-rPxs-ZCtI/s1600/l351_40arcsec_ratio_compare_monochrome.png" imageanchor="1" style="margin-left:1em; margin-right:1em"><img border="0" height="214" width="320" src="http://3.bp.blogspot.com/-snhh3Bamwc4/Tl1OJXzOYNI/AAAAAAAAGdU/n-rPxs-ZCtI/s320/l351_40arcsec_ratio_compare_monochrome.png" /></a></div><br />Here are the same for all of the data reduced up to this point:<br /><div class="separator" style="clear: both; text-align: center;"><a href="http://2.bp.blogspot.com/-oUewyjZc9wU/Tl1QaGPeURI/AAAAAAAAGds/CHx3BtnT9sA/s1600/total_v1v2_sourcemask_fit_compare.png" imageanchor="1" style="margin-left:1em; margin-right:1em"><img border="0" height="214" width="320" src="http://2.bp.blogspot.com/-oUewyjZc9wU/Tl1QaGPeURI/AAAAAAAAGds/CHx3BtnT9sA/s320/total_v1v2_sourcemask_fit_compare.png" /></a></div><br /><div class="separator" style="clear: both; text-align: center;"><a href="http://1.bp.blogspot.com/-n27ucFd82VI/Tl1Qab1kbUI/AAAAAAAAGd0/kwWAceGqo5c/s1600/total_v1v2_sourcemask_ratio_compare.png" imageanchor="1" style="margin-left:1em; margin-right:1em"><img border="0" height="214" width="320" src="http://1.bp.blogspot.com/-n27ucFd82VI/Tl1Qab1kbUI/AAAAAAAAGd0/kwWAceGqo5c/s320/total_v1v2_sourcemask_ratio_compare.png" /></a></div><br /></div>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Bolocat v1-v2 comparison]]></title>
    <link href="http://keflavich.github.com/blog/2011/08/22/bolocat-v1-v2-comparison/"/>
    <updated>2011-08-22T22:39:00-06:00</updated>
    <id>http://keflavich.github.com/blog/2011/08/22/bolocat-v1-v2-comparison</id>
    <content type="html"><![CDATA[<div class='post'>
For this experiment, I ran Bolocat on all of the v1 and v2 images using the source masks Erik derived for v1.  I then compared the derived fluxes using both aperture photometry (as defined in bolocat) and the mask sums.<br /><br />First, note that the object_photometry code Erik wrote does NOT do background subtraction - this is important for understanding non-multiplicative offsets between v1 and v2.<br /><br />I fit a 2-parameter model (a line) to the v2 vs v1 plots using two methods.  The simple linear-least-squares method is one we're all familiar with, and it gives semi-reasonable results, but is NOT statistically robust when there are errors on both axes.  The other fit method used was Total Least Squares, which is approximately equivalent to Principle Component Analysis with 2 vectors.  It uses components of the singular-value-decomposition to determine the best fit.  The fits returned by TLS should be more robust, though the additive offsets need not be.<br /><br />Conclusion: Our factor of 1.5 looks like it was pretty accurate.  For 40" apertures, the best fit is ~1.56, which is easily within the error bars.  Luckily, for 40" apertures, there is no apparent need for an additive offset (I'm pretty sure the uncertainty on the measured offset is larger than the offset, though statistically that is not the case), which would complicate things.  <br /><br />However, for the source mask, there is a greater scaling factor and a very substantial offset.  This implies that the peaks in v2 are brighter by a large factor, but the backgrounds in v2 are actually lower than in v1 (though please do check my reasoning here).  I'm really not sure what to make of the difference between source mask and aperture yet, though... there's probably something significant in the source mask being forced to pick positive pixels.  (and peppered pickles)<br /><br /><div class="separator" style="clear: both; text-align: center;"><a href="http://2.bp.blogspot.com/-9a-O_TQx3Ek/TlMr1f-nmKI/AAAAAAAAGbs/Tp6UY_vwl_s/s1600/total_v1v2_40arcsec_fit_compare.png" imageanchor="1" style="margin-left:1em; margin-right:1em"><img border="0" height="214" width="320" src="http://2.bp.blogspot.com/-9a-O_TQx3Ek/TlMr1f-nmKI/AAAAAAAAGbs/Tp6UY_vwl_s/s320/total_v1v2_40arcsec_fit_compare.png" /></a></div><br /><div class="separator" style="clear: both; text-align: center;"><a href="http://2.bp.blogspot.com/-zhLxvflZ-30/TlMr1mWy6kI/AAAAAAAAGb0/GH7xSizIjnk/s1600/total_v1v2_sourcemask_fit_compare.png" imageanchor="1" style="margin-left:1em; margin-right:1em"><img border="0" height="214" width="320" src="http://2.bp.blogspot.com/-zhLxvflZ-30/TlMr1mWy6kI/AAAAAAAAGb0/GH7xSizIjnk/s320/total_v1v2_sourcemask_fit_compare.png" /></a></div><br /></div>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Examining bolocat]]></title>
    <link href="http://keflavich.github.com/blog/2011/07/27/examining-bolocat/"/>
    <updated>2011-07-27T16:51:00-06:00</updated>
    <id>http://keflavich.github.com/blog/2011/07/27/examining-bolocat</id>
    <content type="html"><![CDATA[<div class='post'>
Just in case we were wondering, the V1 bolocat is completely inconsistent with a lognormal distribution, but is perfectly consistent (or... at least reasonably consistent...) with a power law distribution.<br /><br /><div class="separator" style="clear: both; text-align: center;"><a href="http://2.bp.blogspot.com/-kKaOXdf9hW4/TjBRmgiNmqI/AAAAAAAAGUI/4H0KJk70F_o/s1600/bolocat_flux_cdf.png" imageanchor="1" style="margin-left:1em; margin-right:1em"><img border="0" height="214" width="320" src="http://2.bp.blogspot.com/-kKaOXdf9hW4/TjBRmgiNmqI/AAAAAAAAGUI/4H0KJk70F_o/s320/bolocat_flux_cdf.png" /></a></div><br /><div class="separator" style="clear: both; text-align: center;"><a href="http://1.bp.blogspot.com/-3T9mrt5U39E/TjBRm5p7inI/AAAAAAAAGUQ/ARP6EKQDYo0/s1600/bolocat_flux40_cdf.png" imageanchor="1" style="margin-left:1em; margin-right:1em"><img border="0" height="214" width="320" src="http://1.bp.blogspot.com/-3T9mrt5U39E/TjBRm5p7inI/AAAAAAAAGUQ/ARP6EKQDYo0/s320/bolocat_flux40_cdf.png" /></a></div><br /><div class="separator" style="clear: both; text-align: center;"><a href="http://4.bp.blogspot.com/-ytrgQo5XYEg/TjBRndOQqOI/AAAAAAAAGUY/9g--hpa5X0Y/s1600/bolocat_flux80_cdf.png" imageanchor="1" style="margin-left:1em; margin-right:1em"><img border="0" height="214" width="320" src="http://4.bp.blogspot.com/-ytrgQo5XYEg/TjBRndOQqOI/AAAAAAAAGUY/9g--hpa5X0Y/s320/bolocat_flux80_cdf.png" /></a></div><br /><div class="separator" style="clear: both; text-align: center;"><a href="http://3.bp.blogspot.com/-TqVY1B1uGLw/TjBRnt6uLEI/AAAAAAAAGUg/FhXct0wpEio/s1600/bolocat_flux120_cdf.png" imageanchor="1" style="margin-left:1em; margin-right:1em"><img border="0" height="214" width="320" src="http://3.bp.blogspot.com/-TqVY1B1uGLw/TjBRnt6uLEI/AAAAAAAAGUg/FhXct0wpEio/s320/bolocat_flux120_cdf.png" /></a></div><br />These plots show power-law fits (red) and lognormal fits (blue) to the data (black).  It's pretty obvious that the lognormal is a bad fit, but in case you're unconvinced, the ks test for the "source flux" has a probability 1.6e-7, and it is the highest likelihood by 17 orders of magnitude out of the 4 flux types.<br /><br />By contrast, the simulations are on average (though not uniformly) more consistent with lognormal than powerlaw distributions:<br /><div class="separator" style="clear: both; text-align: center;"><a href="http://2.bp.blogspot.com/-lpOaHHV3e3Q/TjCTzm9RwFI/AAAAAAAAGWI/o57oH5SfdqE/s1600/simulations_ksvalues_lognormvspowerlaw.png" imageanchor="1" style="margin-left:1em; margin-right:1em"><img border="0" height="214" width="320" src="http://2.bp.blogspot.com/-lpOaHHV3e3Q/TjCTzm9RwFI/AAAAAAAAGWI/o57oH5SfdqE/s320/simulations_ksvalues_lognormvspowerlaw.png" /></a></div><br /><br /><br />Even in those examples where the KS test is slightly more favorable for the powerlaw distribution, the lognormal is a pretty good fit, and the failure points for the two distributions are in about the same place.  The smoothness of the lognormal distribution is required to reproduce the observed distribution.<br /><br /><br /><div class="separator" style="clear: both; text-align: center;"><a href="http://1.bp.blogspot.com/-8_WCGM_8AjM/TjB2tW_JZeI/AAAAAAAAGU4/SDR1guNcNq0/s1600/exp10_ds2_astrosky_arrang45_atmotest_amp1.0E%252B01_sky07_seed00_peak100.00_smooth_bolocat_cdf.png" imageanchor="1" style="margin-left:1em; margin-right:1em"><img border="0" height="214" width="320" src="http://1.bp.blogspot.com/-8_WCGM_8AjM/TjB2tW_JZeI/AAAAAAAAGU4/SDR1guNcNq0/s320/exp10_ds2_astrosky_arrang45_atmotest_amp1.0E%252B01_sky07_seed00_peak100.00_smooth_bolocat_cdf.png" /></a></div><br /><br />Note that the first 4 plots are for the whole BGPS survey.  What about an individual field?  For obvious reasons, I choose l30 again.<br /><br /><br /><div class="separator" style="clear: both; text-align: center;"><a href="http://1.bp.blogspot.com/-vHQoJtAe-vU/TjCIiVcRHsI/AAAAAAAAGVo/04fA4WSCnlA/s1600/bolocat_flux40_L30_cdf.png" imageanchor="1" style="margin-left:1em; margin-right:1em"><img border="0" height="214" width="320" src="http://1.bp.blogspot.com/-vHQoJtAe-vU/TjCIiVcRHsI/AAAAAAAAGVo/04fA4WSCnlA/s320/bolocat_flux40_L30_cdf.png" /></a></div><br /><div class="separator" style="clear: both; text-align: center;"><a href="http://1.bp.blogspot.com/-kIpe2v9_YpQ/TjCIimC8K2I/AAAAAAAAGVw/-o5GZ7DoLOw/s1600/bolocat_flux80_L30_cdf.png" imageanchor="1" style="margin-left:1em; margin-right:1em"><img border="0" height="214" width="320" src="http://1.bp.blogspot.com/-kIpe2v9_YpQ/TjCIimC8K2I/AAAAAAAAGVw/-o5GZ7DoLOw/s320/bolocat_flux80_L30_cdf.png" /></a></div><br /><div class="separator" style="clear: both; text-align: center;"><a href="http://2.bp.blogspot.com/-Shg66Vp6sUI/TjCIi2HEe4I/AAAAAAAAGV4/na0n21atNsI/s1600/bolocat_flux120_L30_cdf.png" imageanchor="1" style="margin-left:1em; margin-right:1em"><img border="0" height="214" width="320" src="http://2.bp.blogspot.com/-Shg66Vp6sUI/TjCIi2HEe4I/AAAAAAAAGV4/na0n21atNsI/s320/bolocat_flux120_L30_cdf.png" /></a></div><br /><div class="separator" style="clear: both; text-align: center;"><a href="http://1.bp.blogspot.com/-R2zq58aXXyI/TjCIjeTdjHI/AAAAAAAAGWA/D3xEDRAgY7M/s1600/bolocat_flux_L30_cdf.png" imageanchor="1" style="margin-left:1em; margin-right:1em"><img border="0" height="214" width="320" src="http://1.bp.blogspot.com/-R2zq58aXXyI/TjCIjeTdjHI/AAAAAAAAGWA/D3xEDRAgY7M/s320/bolocat_flux_L30_cdf.png" /></a></div><br /><br /><br />This gets to be a little more interesting - apparently the "source flux" has a tendency to pick up the power-law distributed background structure, since it is consistent with a lognormal (but note that it is also consistent with a powerlaw!  The ks test doesn't really say definitively which is better).  Although the fits look bad at high flux, note that this is a log-log plot and therefore the difference in probability is rather small.<br /><br />What does this all indicate?  It's not entirely clear whether individual fields are genuinely more lognormally-distributed or whether the number statistics are just worse.  However, even the source flux is consistent with a power-law, while many realizations of the simulations are not.<br /><br />Therefore, we should perform the next logical test - add point sources drawn from a power-law distribution (and a log-normal distribution?) and see what bolocat retrieves.  We can at least say now that the point source contribution cannot be ignored, since there is no power-law distribution that can reproduce the observed bolocat flux distribution.</div>

]]></content>
  </entry>
  
</feed>
