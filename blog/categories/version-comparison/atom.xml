<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Category: version comparison | Adam Ginsburg's Astro Blog]]></title>
  <link href="http://keflavich.github.com/blog/categories/version-comparison/atom.xml" rel="self"/>
  <link href="http://keflavich.github.com/"/>
  <updated>2012-12-28T17:29:05-07:00</updated>
  <id>http://keflavich.github.com/</id>
  <author>
    <name><![CDATA[Adam Ginsburg]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[BGPS V2 pointing]]></title>
    <link href="http://keflavich.github.com/blog/2012/05/23/bgps-v2-pointing/"/>
    <updated>2012-05-23T17:59:00-06:00</updated>
    <id>http://keflavich.github.com/blog/2012/05/23/bgps-v2-pointing</id>
    <content type="html"><![CDATA[<div class='post'>
BGPS V2.0 pointing offsets relative to V1 and Herschel:   <div class="separator" style="clear: both; text-align: center;"><a href="http://4.bp.blogspot.com/-41YC6GZJR-0/T715bELMplI/AAAAAAAAHE0/Fzk41wW8ysM/s1600/Offsets_CDF.png" imageanchor="1" style="margin-left:1em; margin-right:1em"><img border="0" height="214" width="320" src="http://4.bp.blogspot.com/-41YC6GZJR-0/T715bELMplI/AAAAAAAAHE0/Fzk41wW8ysM/s320/Offsets_CDF.png" /></a></div>Cumulative Distribution Function of the total offsets.  <div class="separator" style="clear: both; text-align: center;"><a href="http://2.bp.blogspot.com/-9zPWRdGI0jY/T715bmcgVnI/AAAAAAAAHFA/K0XKvlJdO_8/s1600/Offsets_Histogram.png" imageanchor="1" style="margin-left:1em; margin-right:1em"><img border="0" height="214" width="320" src="http://2.bp.blogspot.com/-9zPWRdGI0jY/T715bmcgVnI/AAAAAAAAHFA/K0XKvlJdO_8/s320/Offsets_Histogram.png" /></a></div>Histograms of the total offsets.   <div class="separator" style="clear: both; text-align: center;"><a href="http://2.bp.blogspot.com/-3hkzLY1D4KY/T715b0VfMxI/AAAAAAAAHFM/DDBXKCGu8ng/s1600/Offsets_XYplot.png" imageanchor="1" style="margin-left:1em; margin-right:1em"><img border="0" height="214" width="320" src="http://2.bp.blogspot.com/-3hkzLY1D4KY/T715b0VfMxI/AAAAAAAAHFM/DDBXKCGu8ng/s320/Offsets_XYplot.png" /></a></div>X-offsets vs Y-offsets (X and Y are GLON and GLAT).  The ellipses are centered at the mean of the X/Y offsets and have major and minor axes corresponding to the standard deviations.</div>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Bolocat v1-v2 comparison with new calibration]]></title>
    <link href="http://keflavich.github.com/blog/2011/08/29/bolocat-v1-v2-comparison-with-new/"/>
    <updated>2011-08-29T17:41:00-06:00</updated>
    <id>http://keflavich.github.com/blog/2011/08/29/bolocat-v1-v2-comparison-with-new</id>
    <content type="html"><![CDATA[<div class='post'>
<div class="separator" style="clear: both; text-align: center;"><a href="http://2.bp.blogspot.com/-c3_0Rlbv2qM/Tl1P5FhWC8I/AAAAAAAAGdc/oiFxmO7vrUU/s1600/total_v1v2_40arcsec_ratio_compare.png" imageanchor="1" style="margin-left:1em; margin-right:1em"><img border="0" height="214" width="320" src="http://2.bp.blogspot.com/-c3_0Rlbv2qM/Tl1P5FhWC8I/AAAAAAAAGdc/oiFxmO7vrUU/s320/total_v1v2_40arcsec_ratio_compare.png" /></a></div><br /><div class="separator" style="clear: both; text-align: center;"><a href="http://4.bp.blogspot.com/-Gk60vlSPkWk/Tl1P5c4THoI/AAAAAAAAGdk/E7zdIwtyD3w/s1600/total_v1v2_40arcsec_fit_compare.png" imageanchor="1" style="margin-left:1em; margin-right:1em"><img border="0" height="214" width="320" src="http://4.bp.blogspot.com/-Gk60vlSPkWk/Tl1P5c4THoI/AAAAAAAAGdk/E7zdIwtyD3w/s320/total_v1v2_40arcsec_fit_compare.png" /></a></div><br />I re-examined the Bolocat data on l351 after re-running the pipeline with the new calibration curve.  The change wasn't all that great.  See <a href="http://bolocam.blogspot.com/2011/08/bolocat-v1-v2-comparison.html"> this post </a> for a brief description of the procedure.<br /><br />In the data below, I've fit the residuals as a function of v1.0.2 flux density in an aperture (source mask) with a line.  The slope of the line should ideally be zero - that would indicate a multiplicative offset is an acceptable correction.  <br /><br />Nicely, in the 40" aperture case, I see no reason to exclude the m=0 case.  For the most reliable data - the 13pca - the slope is rather small and the "correction factor" is disturbingly close to what we recommended (1.5).  We have no right to be that lucky...<br /><br /><div class="separator" style="clear: both; text-align: center;"><a href="http://2.bp.blogspot.com/-W08ZvMS3M90/TlwhPW62NQI/AAAAAAAAGc8/8YRm6iyDPO8/s1600/l351_40arcsec_residualfit.png" imageanchor="1" style="margin-left:1em; margin-right:1em"><img border="0" height="214" width="320" src="http://2.bp.blogspot.com/-W08ZvMS3M90/TlwhPW62NQI/AAAAAAAAGc8/8YRm6iyDPO8/s320/l351_40arcsec_residualfit.png" /></a></div><br /><br />...and so perhaps wer are not.  The source mask includes more area and therefore is more sensitive to extended flux recovery.  The slopes are not consistent with 0 - just look at the data above and below 2 Jy to see that there is a difference.  The multiplicative correction of 1.5 is decent for a pretty wide range of flux densities, but is inadequate for the brightest sources.  This is somewhat interesting... it implies that the brightest sources also lie on the highest backgrounds.<br /><br /><div class="separator" style="clear: both; text-align: center;"><a href="http://3.bp.blogspot.com/-GQBE_MjAxt8/TlwhPveClUI/AAAAAAAAGdE/lohBYlJuHwM/s1600/l351_sourcemask_residualfit.png" imageanchor="1" style="margin-left:1em; margin-right:1em"><img border="0" height="214" width="320" src="http://3.bp.blogspot.com/-GQBE_MjAxt8/TlwhPveClUI/AAAAAAAAGdE/lohBYlJuHwM/s320/l351_sourcemask_residualfit.png" /></a></div><br />You might note that the brightest source has a smaller correction factor in both apertures.  It's not clear why that is the case, but I don't think it's enough to call it a trend yet - wait for the full 8000-source comparison first.<br /><br /><br />Why is there so much scatter?  Not entirely clear, but the scatter is primarily at low S/N.<div class="separator" style="clear: both; text-align: center;"><a href="http://3.bp.blogspot.com/-GPKbsfs9Y8k/Tl1OJE43J3I/AAAAAAAAGdM/pVUx9SClgtc/s1600/l351_40arcsec_fit_compare_monochrome.png" imageanchor="1" style="margin-left:1em; margin-right:1em"><img border="0" height="214" width="320" src="http://3.bp.blogspot.com/-GPKbsfs9Y8k/Tl1OJE43J3I/AAAAAAAAGdM/pVUx9SClgtc/s320/l351_40arcsec_fit_compare_monochrome.png" /></a></div><br /><div class="separator" style="clear: both; text-align: center;"><a href="http://3.bp.blogspot.com/-snhh3Bamwc4/Tl1OJXzOYNI/AAAAAAAAGdU/n-rPxs-ZCtI/s1600/l351_40arcsec_ratio_compare_monochrome.png" imageanchor="1" style="margin-left:1em; margin-right:1em"><img border="0" height="214" width="320" src="http://3.bp.blogspot.com/-snhh3Bamwc4/Tl1OJXzOYNI/AAAAAAAAGdU/n-rPxs-ZCtI/s320/l351_40arcsec_ratio_compare_monochrome.png" /></a></div><br />Here are the same for all of the data reduced up to this point:<br /><div class="separator" style="clear: both; text-align: center;"><a href="http://2.bp.blogspot.com/-oUewyjZc9wU/Tl1QaGPeURI/AAAAAAAAGds/CHx3BtnT9sA/s1600/total_v1v2_sourcemask_fit_compare.png" imageanchor="1" style="margin-left:1em; margin-right:1em"><img border="0" height="214" width="320" src="http://2.bp.blogspot.com/-oUewyjZc9wU/Tl1QaGPeURI/AAAAAAAAGds/CHx3BtnT9sA/s320/total_v1v2_sourcemask_fit_compare.png" /></a></div><br /><div class="separator" style="clear: both; text-align: center;"><a href="http://1.bp.blogspot.com/-n27ucFd82VI/Tl1Qab1kbUI/AAAAAAAAGd0/kwWAceGqo5c/s1600/total_v1v2_sourcemask_ratio_compare.png" imageanchor="1" style="margin-left:1em; margin-right:1em"><img border="0" height="214" width="320" src="http://1.bp.blogspot.com/-n27ucFd82VI/Tl1Qab1kbUI/AAAAAAAAGd0/kwWAceGqo5c/s320/total_v1v2_sourcemask_ratio_compare.png" /></a></div><br /></div>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[V1 vs V2: Calibration Curves]]></title>
    <link href="http://keflavich.github.com/blog/2011/08/25/v1-vs-v2-calibration-curves/"/>
    <updated>2011-08-25T11:09:00-06:00</updated>
    <id>http://keflavich.github.com/blog/2011/08/25/v1-vs-v2-calibration-curves</id>
    <content type="html"><![CDATA[<div class='post'>
Why did we find a factor ~1.8 in <a href="http://bolocam.blogspot.com/2011/08/bolocat-v1-v2-comparison.html">the previous post</a>?  Well, for starters we used a calibration curve that was based off of 'masking' and other tricky techniques.<br /><br />The calibration curves below are the first ever produced self-consistently, i.e. using the EXACT same pipeline with the EXACT same parameters as the science data.  No hacks were needed to produce these<a href=#asterisk">*</a>.  The recovered Volts/Jy are substantially higher than BGPSv1 and ALSO higher than the curve used about a year ago in an attempt to explain the v1 flux discrepancy.<br /><br />Remember that a higher calibration curve means a LOWER recovered flux.  I haven't finished the check, but odds are pretty good that applying these self-consistent cal curves will reduce the v2 data to be about 1.5.<br /><br /> <div class="separator" style="clear: both; text-align: center;"><a href="http://4.bp.blogspot.com/-PRU4LQ5f-C4/TlZ9wpeFBeI/AAAAAAAAGb8/jKdJHtIqV40/s1600/planet_dcfluxes_05_defaults_ds2_v2.0_13pca_map20.png" imageanchor="1" style="margin-left:1em; margin-right:1em"><img border="0" height="229" width="320" src="http://4.bp.blogspot.com/-PRU4LQ5f-C4/TlZ9wpeFBeI/AAAAAAAAGb8/jKdJHtIqV40/s320/planet_dcfluxes_05_defaults_ds2_v2.0_13pca_map20.png" /></a></div><br /><div class="separator" style="clear: both; text-align: center;"><a href="http://3.bp.blogspot.com/-AIzsETyl69g/TlZ9w50DjBI/AAAAAAAAGcE/h5ggKhH3dO4/s1600/planet_dcfluxes_06_defaults_ds2_v2.0_13pca_map20.png" imageanchor="1" style="margin-left:1em; margin-right:1em"><img border="0" height="229" width="320" src="http://3.bp.blogspot.com/-AIzsETyl69g/TlZ9w50DjBI/AAAAAAAAGcE/h5ggKhH3dO4/s320/planet_dcfluxes_06_defaults_ds2_v2.0_13pca_map20.png" /></a></div><br /><div class="separator" style="clear: both; text-align: center;"><a href="http://4.bp.blogspot.com/-BNWD4QQ21Ac/TlZ9xZ5eTkI/AAAAAAAAGcM/QOVbum2jXIo/s1600/planet_dcfluxes_07_defaults_ds2_v2.0_13pca_map20.png" imageanchor="1" style="margin-left:1em; margin-right:1em"><img border="0" height="229" width="320" src="http://4.bp.blogspot.com/-BNWD4QQ21Ac/TlZ9xZ5eTkI/AAAAAAAAGcM/QOVbum2jXIo/s320/planet_dcfluxes_07_defaults_ds2_v2.0_13pca_map20.png" /></a></div><br /><div class="separator" style="clear: both; text-align: center;"><a href="http://2.bp.blogspot.com/-OucWo74b8VY/TlZ9yFIJYQI/AAAAAAAAGcU/IBMs5YLMlYU/s1600/planet_dcfluxes_09_defaults_ds2_v2.0_13pca_map20.png" imageanchor="1" style="margin-left:1em; margin-right:1em"><img border="0" height="229" width="320" src="http://2.bp.blogspot.com/-OucWo74b8VY/TlZ9yFIJYQI/AAAAAAAAGcU/IBMs5YLMlYU/s320/planet_dcfluxes_09_defaults_ds2_v2.0_13pca_map20.png" /></a></div><br /><div name="asterisk>While no hacks were needed to produce these plots, there were abundant problems.  There are far fewer data points than there should be.  The problems are manifold, but mostly have to do with the PCA scaling (I think).<br /><br />In some cases, the first scan in an observation was wildly variable.  There looked to be an exponential or similar decay (as has been observed in scan turnarounds) at the observation start that took ~3 scans to decay to bring all of the bolometers onto a scaleable curve.  This is a HUGE problem, because the assumption that the dominant signal is atmosphere is badly violated in this situation - the signal becomes electronics-dominated.  The first PCA component is then an ugly step-function.  With these first scans flagged out, the whole problem goes away, but that's a painful manual process.  Automating it MAY be possible, but also risky.<br /><br />In other cases, particularly September 4th 2007, the atmosphere appeared to be negligible!  While the atmospheric optical depth probably was not, if it was extraordinarily stable over the course of ~10 minutes, again we experience severe problems.  A stable atmosphere means no atmospheric variation, which means that ACBOLOS is just noise (plus Uranus signal).  Ironically, this is very bad for calibration - it means there is no common signal on which we can calibrate the bolos' relative sensitivities.  This problem doesn't seem to affect science data, probably because there's no such thing as 45-minute stable atmosphere (especially when you're following rising/setting sources).  If I REALLY need that data, I could snag the relative scalings from a science field and apply them to the cal data... honestly that's not a bad idea in general... hmm... Well, we'll explore that later if I have time, that will take days to implement.</div>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Bolocat v1-v2 comparison]]></title>
    <link href="http://keflavich.github.com/blog/2011/08/22/bolocat-v1-v2-comparison/"/>
    <updated>2011-08-22T22:39:00-06:00</updated>
    <id>http://keflavich.github.com/blog/2011/08/22/bolocat-v1-v2-comparison</id>
    <content type="html"><![CDATA[<div class='post'>
For this experiment, I ran Bolocat on all of the v1 and v2 images using the source masks Erik derived for v1.  I then compared the derived fluxes using both aperture photometry (as defined in bolocat) and the mask sums.<br /><br />First, note that the object_photometry code Erik wrote does NOT do background subtraction - this is important for understanding non-multiplicative offsets between v1 and v2.<br /><br />I fit a 2-parameter model (a line) to the v2 vs v1 plots using two methods.  The simple linear-least-squares method is one we're all familiar with, and it gives semi-reasonable results, but is NOT statistically robust when there are errors on both axes.  The other fit method used was Total Least Squares, which is approximately equivalent to Principle Component Analysis with 2 vectors.  It uses components of the singular-value-decomposition to determine the best fit.  The fits returned by TLS should be more robust, though the additive offsets need not be.<br /><br />Conclusion: Our factor of 1.5 looks like it was pretty accurate.  For 40" apertures, the best fit is ~1.56, which is easily within the error bars.  Luckily, for 40" apertures, there is no apparent need for an additive offset (I'm pretty sure the uncertainty on the measured offset is larger than the offset, though statistically that is not the case), which would complicate things.  <br /><br />However, for the source mask, there is a greater scaling factor and a very substantial offset.  This implies that the peaks in v2 are brighter by a large factor, but the backgrounds in v2 are actually lower than in v1 (though please do check my reasoning here).  I'm really not sure what to make of the difference between source mask and aperture yet, though... there's probably something significant in the source mask being forced to pick positive pixels.  (and peppered pickles)<br /><br /><div class="separator" style="clear: both; text-align: center;"><a href="http://2.bp.blogspot.com/-9a-O_TQx3Ek/TlMr1f-nmKI/AAAAAAAAGbs/Tp6UY_vwl_s/s1600/total_v1v2_40arcsec_fit_compare.png" imageanchor="1" style="margin-left:1em; margin-right:1em"><img border="0" height="214" width="320" src="http://2.bp.blogspot.com/-9a-O_TQx3Ek/TlMr1f-nmKI/AAAAAAAAGbs/Tp6UY_vwl_s/s320/total_v1v2_40arcsec_fit_compare.png" /></a></div><br /><div class="separator" style="clear: both; text-align: center;"><a href="http://2.bp.blogspot.com/-zhLxvflZ-30/TlMr1mWy6kI/AAAAAAAAGb0/GH7xSizIjnk/s1600/total_v1v2_sourcemask_fit_compare.png" imageanchor="1" style="margin-left:1em; margin-right:1em"><img border="0" height="214" width="320" src="http://2.bp.blogspot.com/-zhLxvflZ-30/TlMr1mWy6kI/AAAAAAAAGb0/GH7xSizIjnk/s320/total_v1v2_sourcemask_fit_compare.png" /></a></div><br /></div>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[v1-v2 comparison]]></title>
    <link href="http://keflavich.github.com/blog/2011/08/22/v1-v2-comparison/"/>
    <updated>2011-08-22T22:25:00-06:00</updated>
    <id>http://keflavich.github.com/blog/2011/08/22/v1-v2-comparison</id>
    <content type="html"><![CDATA[<div class='post'>
Some positive results.<br /><br />v2 is uniformly higher than v1, but at nearly 1.8, not 1.5.  Some of this could be because of a different calibration curve (which is worth checking on; I'll do that later).<br /><br /><div class="separator" style="clear: both; text-align: center;"><a href="http://1.bp.blogspot.com/-OJ0dGhlukDI/TkrJp3xJ3CI/AAAAAAAAGaM/2wljUfSwwiM/s1600/v1.0.2_compare_to_v2.0_ds2_deconv_compare.png" imageanchor="1" style="margin-left:1em; margin-right:1em"><img border="0" height="320" width="320" src="http://1.bp.blogspot.com/-OJ0dGhlukDI/TkrJp3xJ3CI/AAAAAAAAGaM/2wljUfSwwiM/s320/v1.0.2_compare_to_v2.0_ds2_deconv_compare.png" /></a></div><br /><div class="separator" style="clear: both; text-align: center;"><a href="http://4.bp.blogspot.com/-JuJNBoV9AFw/TkrJqtQVgYI/AAAAAAAAGaU/SMlGuh16ETs/s1600/v1.0.2_compare_to_v2.0_ds2_deconv_deline_compare.png" imageanchor="1" style="margin-left:1em; margin-right:1em"><img border="0" height="320" width="320" src="http://4.bp.blogspot.com/-JuJNBoV9AFw/TkrJqtQVgYI/AAAAAAAAGaU/SMlGuh16ETs/s320/v1.0.2_compare_to_v2.0_ds2_deconv_deline_compare.png" /></a></div><br /><div class="separator" style="clear: both; text-align: center;"><a href="http://1.bp.blogspot.com/-HIMECvNyofo/TkrJrFOgCeI/AAAAAAAAGac/6T6TTJMx0cM/s1600/v1.0.2_compare_to_v2.0_ds2_deconv_madflag3_compare.png" imageanchor="1" style="margin-left:1em; margin-right:1em"><img border="0" height="320" width="320" src="http://1.bp.blogspot.com/-HIMECvNyofo/TkrJrFOgCeI/AAAAAAAAGac/6T6TTJMx0cM/s320/v1.0.2_compare_to_v2.0_ds2_deconv_madflag3_compare.png" /></a></div><br /><div class="separator" style="clear: both; text-align: center;"><a href="http://1.bp.blogspot.com/-wYf-dSk8NXY/TkrJsINgC7I/AAAAAAAAGak/k6Kn6WbgxWM/s1600/v1.0.2_compare_to_v2.0_ds2_deline_compare.png" imageanchor="1" style="margin-left:1em; margin-right:1em"><img border="0" height="320" width="320" src="http://1.bp.blogspot.com/-wYf-dSk8NXY/TkrJsINgC7I/AAAAAAAAGak/k6Kn6WbgxWM/s320/v1.0.2_compare_to_v2.0_ds2_deline_compare.png" /></a></div><br /><div class="separator" style="clear: both; text-align: center;"><a href="http://3.bp.blogspot.com/-cMEqPyhfKDM/TkrJsmmMEpI/AAAAAAAAGas/ZgwSeLos5QQ/s1600/v1.0.2_compare_to_v2.0_ds2_inversescaleweight_compare.png" imageanchor="1" style="margin-left:1em; margin-right:1em"><img border="0" height="320" width="320" src="http://3.bp.blogspot.com/-cMEqPyhfKDM/TkrJsmmMEpI/AAAAAAAAGas/ZgwSeLos5QQ/s320/v1.0.2_compare_to_v2.0_ds2_inversescaleweight_compare.png" /></a></div><br /><br />While the pixel-to-pixel comparison yields values ~1.75, the aperture photometry is perhaps even more severe:<br /><div class="separator" style="clear: both; text-align: center;"><a href="http://2.bp.blogspot.com/-2kmy7UjYx-U/TkrX2i9j3KI/AAAAAAAAGbU/WTPdP7p6nHY/s1600/v1.0.2_compare_to_v2.0_ds2_reconv_point.png" imageanchor="1" style="margin-left:1em; margin-right:1em"><img border="0" height="214" width="320" src="http://2.bp.blogspot.com/-2kmy7UjYx-U/TkrX2i9j3KI/AAAAAAAAGbU/WTPdP7p6nHY/s320/v1.0.2_compare_to_v2.0_ds2_reconv_point.png" /></a></div><br /><div class="separator" style="clear: both; text-align: center;"><a href="http://3.bp.blogspot.com/-Uhcyj_rCPrY/TkrX2-k72nI/AAAAAAAAGbc/yePgRQO3RCU/s1600/v1.0.2_compare_to_v2.0_ds2_reconv_point2.png" imageanchor="1" style="margin-left:1em; margin-right:1em"><img border="0" height="214" width="320" src="http://3.bp.blogspot.com/-Uhcyj_rCPrY/TkrX2-k72nI/AAAAAAAAGbc/yePgRQO3RCU/s320/v1.0.2_compare_to_v2.0_ds2_reconv_point2.png" /></a></div><br />Those are a difference of a factor of 2.5, which is rather enormous.<br /></div>

]]></content>
  </entry>
  
</feed>
