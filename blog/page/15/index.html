
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Adam Ginsburg's Astro Blog</title>
  <meta name="author" content="Adam Ginsburg">

  
  <meta name="description" content="Look at that. Seriously? a 10&#8217; offset? That&#8217;s ridiculous! There is no WAY our pointing models could be off by that much! Even if I got &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://keflavich.github.com/blog/page/15/">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="/javascripts/ender.js"></script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <link href="/atom.xml" rel="alternate" title="Adam Ginsburg's Astro Blog" type="application/atom+xml">
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  

</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">Adam Ginsburg's Astro Blog</a></h1>
  
    <h2>Nicer than keflavich.blogspot.com</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:keflavich.github.com" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div class="blog-index">
  
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2008/08/22/ten/">TEN!?!</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2008-08-22T17:40:00-06:00" pubdate data-updated="true">Aug 22<span>nd</span>, 2008</time>
        
      </p>
    
  </header>


  <div class="entry-content"><div class='post'>
<a onblur="try {parent.deselectBloggerImageGracefully();} catch(e) {}" href="http://3.bp.blogspot.com/_lsgW26mWZnU/SK9Pe1q6PaI/AAAAAAAADOE/yd0bxUMCDB4/s1600-h/EIGHT.png"><img style="cursor:pointer; cursor:hand;" src="http://3.bp.blogspot.com/_lsgW26mWZnU/SK9Pe1q6PaI/AAAAAAAADOE/yd0bxUMCDB4/s400/EIGHT.png" border="0" alt=""id="BLOGGER_PHOTO_ID_5237492282876902818" /></a><br /><br />Look at that.  Seriously?  a 10&#8217; offset?  That&#8217;s ridiculous!  There is no WAY our pointing models could be off by that much!  Even if I got the signs entirely wrong, that&#8217;s just not possible.<br /><br />What&#8217;s going on?  First theory:  Galactic coordinates fail.  Any other suggestions?</div>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2008/08/21/task-list/">Task List</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2008-08-21T18:25:00-06:00" pubdate data-updated="true">Aug 21<span>st</span>, 2008</time>
        
      </p>
    
  </header>


  <div class="entry-content"><div class='post'>
For the moment, I&#8217;m going to leave the pointing alone.  This leaves us (me) with a very long list of things to do before the data release:<br /><br /><ol><li>Determine ideal iterative mapping strategy for low-flux fields</li><li>Determine ideal iterative mapping strategy for fields with bright sources</li><li>Optimize at least the following:<br /><ol type="a"> <li> scan flatting (polynomial subtraction)</li><li>PCA subtraction</li><li>Pre-PCA sky subtraction (necessary?)</li><li>Deconvolution/No deconvolution<br /></li></ol></li><li>GENERATE MAPS [top priority, but it can&#8217;t really happen til after the above]<br /></li><li>Assure consistency with catalogs - e.g. Motte, SCUBA, etc.<br /></li><li>Figure out what needs to go into fits header</li><li>Survive semester before comps [lowest priority]</li><li>sleep [oh, right, real lowest priority]</li></ol>Sarcasm helps me survive.  Almost as much as beer.</div>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2008/08/21/new-pointing-models/">New Pointing Models</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2008-08-21T14:40:00-06:00" pubdate data-updated="true">Aug 21<span>st</span>, 2008</time>
        
      </p>
    
  </header>


  <div class="entry-content"><div class='post'>
I decided to try to fit the pointing model as a full alt/az or ra/dec dependent thing using mpfitfun and a 12 (or 16) parameter model.  It didn&#8217;t work very well.<br /><br />I could fit out the alt dependence, then independently fit out the az dependence, and see how that goes.  I think it will work brilliantly.</div>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2008/08/21/got-sign-wrong-again/">Got a Sign Wrong Again</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2008-08-21T14:39:00-06:00" pubdate data-updated="true">Aug 21<span>st</span>, 2008</time>
        
      </p>
    
  </header>


  <div class="entry-content"><div class='post'>
Last night&#8217;s run failed because I had a wrong sign in the pointing model.  Do over time!</div>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2008/08/20/notice-anything-different/">Notice Anything Different?</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2008-08-20T19:03:00-06:00" pubdate data-updated="true">Aug 20<span>th</span>, 2008</time>
        
      </p>
    
  </header>


  <div class="entry-content"><div class='post'>
About milkyway?  This post is a red herring, but:<br />I decided to go ahead and run the mapper on Cygnus, L33, L111, and the Galactic Center again.  The pointing has gotten to the stage where I&#8217;m certain I can&#8217;t do anything more without a stroke of pure brilliance or a conversation with someone who hasn&#8217;t touched a thing - e.g. Jason - that suddenly enlightens me. <br /><br />In order to fully reproduce Meredith&#8217;s results, I&#8217;d probably have to go back through and follow her &#8216;pipeline&#8217; process step by step as well, and I suspect that, if I had used her method on her RA/Dec maps, I would have come up with exactly the same problem I currently see.  Therefore, I won&#8217;t do anything about it.<br /><br />I think the most appropriate response at this point MAY be to just fit a damned polynomial/sine curve in az and include that as part of the pointing model, but I can&#8217;t justify where that comes from.  All I know is that it&#8217;s present in Meredith&#8217;s data as well as my own.<br /><br />What&#8217;s that next step with the PPSes?  We need to do that.<br /><br />More important, though, is getting some image optimization ready FAST.  I need to be running this stuff before September!  Tonight&#8217;s run will be a test of numbers of PCA components.  At the very least, the v0.5 should have a consistent set of images even if we cut out the high-flux ones.  We&#8217;ll deal with that later.<br /><br />For the high flux objects, e.g. g34.3, since we have so much overlapping data, a simple average/magical baseline subtraction might be just as if not more effective than PCA subtraction, so that&#8217;s one way around it.</div>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2008/08/19/modifications/">Modifications</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2008-08-19T12:00:00-06:00" pubdate data-updated="true">Aug 19<span>th</span>, 2008</time>
        
      </p>
    
  </header>


  <div class="entry-content"><div class='post'>
Things that have been changed in the past 24 hours that are very significant:<br /><ol><li>In apply_pointing_model, the signs of FAZO and FZAO have been swapped.  I BELIEVE this is correct but somehow things aren&#8217;t working out still.</li><li>In do_the_pointing I have changed from &#8220;eq2hor&#8221; and &#8220;hor2eq&#8221; to &#8220;my_eq2hor&#8221; and &#8220;my_hor2eq&#8221;.  These implement two major changes:<br /><ol type="a"><li> The LST is passed as a parameter rather than calculated within the ASTROLIB code<br /></li><li> The conversion is calculated with BOTH hadec2altaz and getaltaz (and similar for the opposite transformation) and compared for error checking purposes.  If they differ by more than one arcsecond, the code will spit out an error message and use getaltaz. </li></ol><br /></li></ol></div>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2008/08/17/inconsistent/">Inconsistent</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2008-08-17T12:19:00-06:00" pubdate data-updated="true">Aug 17<span>th</span>, 2008</time>
        
      </p>
    
  </header>


  <div class="entry-content"><div class='post'>
James: &#8220;I think it&#8217;s fair to say, though, that there is some problem with the simultaneous assumption that CSO coords are geo and that we are applying the ab/nut correction correctly.&#8221;<br /><br />Yep.  The relevant files are in /scratch/adam_work/plots/:<br />models_noabnut_radec_0707.ps<br />models_noabnut_rawcsoptg_radec_0707.ps<br />models_oppositeabnut_radec_0707.ps<br />models_oppositeabnut_rawcso_radec_0707.ps<br /><br />I&#8217;m afraid they&#8217;re pretty confusing. <br /><br />&#8216;noabnut&#8217; means no aberration/nutation correction was applied during the mapping process.<br />&#8216;oppositeabnut&#8217; means that an aberration/nutation correction that, according to the eq2hor and hor2eq texts, should actually convert heliocentric to geocentric, is being used on data that we believe is starting in a geocentric frame.  There are two possibilities: 1. We are wrong 2. eq2hor/hor2eq are wrong.<br /><br />The &#8216;rawcso&#8217; files have FAZO/FZAO  &#8220;subtracted out&#8221; (removed) in pages 1 and 3, and FAZO/FZAO added back in on pages 2 and 4.  &#8216;rawcso&#8217; means that we&#8217;re looking at the ra/dec the CSO gave without the users&#8217; FAZO/FZAO corrections.<br /><br />The non-rawcso have the NCDF ra/dec vectors, with precession correction applied (and some form of ab/nut correction), but the FAZO/FZAO are still present.  THESE should be equivalent to Meredith&#8217;s plots, e.g. where FAZO_SET/FZAO_SET are on the y axis.  However, that&#8217;s only true for pages 1 and 3.  Pages 2 and 4 have FAZO/FZAO essentially double-subtracted, so they should be ignored.  Pages 1 and 3 of the non-rawcso files should be equivalent to pages 2 and 4 of the rawcso files with the exception that the sigma-rejection used to choose the yellow points is different.<br /><br />So what&#8217;s in each page?  On pages 1 and 2, the red lines are my best fit to the yellow data, which is the black data with an iterative sigma rejection applied (i.e. reject at 1 sigma, recalculate sigma from good data, reject at 2 sigma).  The blue lines are Meredith&#8217;s models.  The right side includes only the yellow data points with the red line subtracted.  On pages 3 and 4, the same is pretty much true except that ONLY the altitude-dependent line has been subtracted: there is no fit to azimuth.<br /><br />Also, the &#8216;sourcecompare&#8217; files are similar.  I&#8217;d check those out too.<br /><br />I still don&#8217;t have the extremely low RMS that Meredith saw.  I&#8217;m going to go through and try to reject bad data points by hand to see if I can get to that level.  We&#8217;ll see.</div>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2008/08/13/direct-comparison-with-merediths/">Direct Comparison With Meredith&#8217;s Pointing Calculations</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2008-08-13T22:04:00-06:00" pubdate data-updated="true">Aug 13<span>th</span>, 2008</time>
        
      </p>
    
  </header>


  <div class="entry-content"><div class='post'>
I&#8217;ve gotten to the point that I&#8217;m directly comparing my pointing calculations to Merediths.  So far, it looks like:<br />1. I can very nearly reproduce Meredith&#8217;s results on her maps, though there are a few differences in centroids and I missed the source a few times where she didn&#8217;t.<br />2. There is still a spread between my map centroids and hers.<br /><br />The code I&#8217;ve written to enable this comparison: publish/debug_testing/compare_me_meredith.pro<br /><br />I&#8217;m still a bit stumped, but I think I have a path to the answer mapped out.</div>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2008/08/12/centroiding-and-merediths-files/">Centroiding and Meredith&#8217;s Files</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2008-08-12T21:52:00-06:00" pubdate data-updated="true">Aug 12<span>th</span>, 2008</time>
        
      </p>
    
  </header>


  <div class="entry-content"><div class='post'>
I tried the pointing offset calculations on Meredith&#8217;s maps and I still get an RMS of ~9&#8221; in both RA and DEC.  Check out the files:<br />/scratch/adam_work/plots/models_meredith*<br /><br />So&#8230; what?</div>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2008/08/12/searching-for-more-offsets/">Searching for More Offsets</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2008-08-12T13:36:00-06:00" pubdate data-updated="true">Aug 12<span>th</span>, 2008</time>
        
      </p>
    
  </header>


  <div class="entry-content"><div class='post'>
The defining feature of my pointing calculations - and their inconsistency - is that the spread for individual sources is bad, which means that there&#8217;s still something wrong in the way the bulk ra/dec are being calculated.<br /><br />I checked apply_distortion_map_radec to see if it might have inserted some bulk offset, but it only changes the average position by <2".  That might be an issue, but the boresight isn't necessarily aligned with the mean location of the bolometers.  It should be shifted by at least .3" according to a simple average of sin/cos of the bolo_params angles.<br /><br /><br />Comparing my pointing code to map_ncdf_reading directly:<br />readstruct=map_ncdf_reading(filename,/nopixoff)  <br />offsets are small (e.g.      -0.050665803   -0.0029540043 arcseconds ra/dec) if I don&#8217;t subtract fazo/fzao<br />offsets in ra/dec are remarkably close to fazo/fzao if I subtract them:<br />       92.830656      -126.12773<br />       95.000000      -120.00000<br />which is because ra/dec are pretty closely aligned to az/el. <br /><br />So, any difference comes from at least one of the keyword parameters.  Therefore I AM missing something, and that something is one of the keywords to map_ncdf_reading</div>
</div>
  
  


    </article>
  
  <div class="pagination">
    
      <a class="prev" href="/blog/page/16/">&larr; Older</a>
    
    <a href="/blog/archives">Blog Archives</a>
    
    <a class="next" href="/blog/page/14/">Newer &rarr;</a>
    
  </div>
</div>
<aside class="sidebar">
  
    <section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2012/12/26/bash-prompt/">Bash Prompt</a>
      </li>
    
      <li class="post">
        <a href="/blog/2012/12/25/catalog-vs-image-shift-possible/">Catalog vs Image shift?  A possible solution to the ATLASGAL issue</a>
      </li>
    
      <li class="post">
        <a href="/blog/2012/12/25/triplespec-slit-mapping/">TripleSpec Slit Mapping</a>
      </li>
    
      <li class="post">
        <a href="/blog/2012/12/21/idea-multispectral-eigenimage/">Idea: Multispectral Eigenimage decomposition&#8230;</a>
      </li>
    
      <li class="post">
        <a href="/blog/2012/12/20/first/">Fourier Upsampling</a>
      </li>
    
  </ul>
</section>






  
</aside>

    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2012 - Adam Ginsburg -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  







  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = 'http://platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
